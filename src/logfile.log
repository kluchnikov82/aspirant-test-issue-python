[2022-07-31 10:29:36,256.256] INFO [140383445514048] - Started server process [18755]
[2022-07-31 10:29:36,256.256] INFO [140383445514048] - Waiting for application startup.
[2022-07-31 10:29:36,256.256] INFO [140383445514048] - Application startup complete.
[2022-07-31 10:29:36,256.256] INFO [140383445514048] - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
[2022-07-31 10:29:40,679.679] INFO [140383345878784] - Пользователь Alex зарегистрирован на пикник 2!
[2022-07-31 10:30:30,910.910] INFO [140383445514048] - Shutting down
[2022-07-31 10:30:31,011.011] INFO [140383445514048] - Waiting for application shutdown.
[2022-07-31 10:30:31,011.011] INFO [140383445514048] - Application shutdown complete.
[2022-07-31 10:30:31,011.011] INFO [140383445514048] - Finished server process [18755]
[2022-07-31 10:30:31,028.028] ERROR [140383445514048] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140383345878784 and this is thread id 140383445514048.
[2022-07-31 10:30:31,029.029] ERROR [140383445514048] - Exception closing connection <sqlite3.Connection object at 0x7fad8be62d50>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140383345878784 and this is thread id 140383445514048.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140383345878784 and this is thread id 140383445514048.
[2022-07-31 10:30:31,029.029] ERROR [140383445514048] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140383345878784 and this is thread id 140383445514048.
[2022-07-31 10:30:31,029.029] ERROR [140383445514048] - Exception closing connection <sqlite3.Connection object at 0x7fad8be62c60>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140383345878784 and this is thread id 140383445514048.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140383345878784 and this is thread id 140383445514048.
[2022-07-31 10:49:54,948.948] INFO [139726686250752] - Список городов: [{'id': 1, 'name': 'Бузулук', 'weather': 26.32}, {'id': 2, 'name': 'Новотроицк', 'weather': 22.39}, {'id': 3, 'name': 'Москва', 'weather': 20.49}, {'id': 4, 'name': 'Орск', 'weather': 22.5}, {'id': 5, 'name': 'Барнаул', 'weather': 25.4}, {'id': 6, 'name': 'Сочи', 'weather': 26.05}]!
[2022-07-31 10:50:27,451.451] INFO [140028431947520] - Список городов: [{'id': 1, 'name': 'Бузулук', 'weather': 26.32}, {'id': 2, 'name': 'Новотроицк', 'weather': 22.39}, {'id': 3, 'name': 'Москва', 'weather': 20.49}, {'id': 4, 'name': 'Орск', 'weather': 22.5}, {'id': 5, 'name': 'Барнаул', 'weather': 25.4}, {'id': 6, 'name': 'Сочи', 'weather': 26.05}]!
[2022-07-31 10:50:35,464.464] ERROR [140028649256768] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140028431947520 and this is thread id 140028649256768.
[2022-07-31 10:50:35,465.465] ERROR [140028649256768] - Exception closing connection <sqlite3.Connection object at 0x7f5aeb566030>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140028431947520 and this is thread id 140028649256768.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140028431947520 and this is thread id 140028649256768.
[2022-07-31 10:55:29,806.806] INFO [139721976420096] - Список городов: [{'id': 1, 'name': 'Бузулук', 'weather': 26.32}, {'id': 2, 'name': 'Новотроицк', 'weather': 22.39}, {'id': 3, 'name': 'Москва', 'weather': 20.49}, {'id': 4, 'name': 'Орск', 'weather': 22.5}, {'id': 5, 'name': 'Барнаул', 'weather': 25.4}, {'id': 6, 'name': 'Сочи', 'weather': 26.05}]!
[2022-07-31 10:55:29,807.807] INFO [139722083919680] - Тест get_cities() пройден успешно!
[2022-07-31 10:55:29,840.840] ERROR [139722083919680] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139721976420096 and this is thread id 139722083919680.
[2022-07-31 10:55:29,841.841] ERROR [139722083919680] - Exception closing connection <sqlite3.Connection object at 0x7f138ed27210>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139721976420096 and this is thread id 139722083919680.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139721976420096 and this is thread id 139722083919680.
[2022-07-31 10:55:58,415.415] INFO [139907091044096] - Список городов: [{'id': 1, 'name': 'Бузулук', 'weather': 26.32}, {'id': 2, 'name': 'Новотроицк', 'weather': 22.39}, {'id': 3, 'name': 'Москва', 'weather': 20.49}, {'id': 4, 'name': 'Орск', 'weather': 22.5}, {'id': 5, 'name': 'Барнаул', 'weather': 25.4}, {'id': 6, 'name': 'Сочи', 'weather': 26.05}]!
[2022-07-31 10:55:58,417.417] INFO [139907198281536] - Тест get_cities() пройден успешно!
[2022-07-31 10:55:58,444.444] ERROR [139907198281536] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139907091044096 and this is thread id 139907198281536.
[2022-07-31 10:55:58,444.444] ERROR [139907198281536] - Exception closing connection <sqlite3.Connection object at 0x7f3ea87f3210>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139907091044096 and this is thread id 139907198281536.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139907091044096 and this is thread id 139907198281536.
[2022-07-31 10:56:04,345.345] INFO [140338938423104] - Started server process [20161]
[2022-07-31 10:56:04,345.345] INFO [140338938423104] - Waiting for application startup.
[2022-07-31 10:56:04,346.346] INFO [140338938423104] - Application startup complete.
[2022-07-31 10:56:04,346.346] INFO [140338938423104] - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
[2022-07-31 10:56:06,618.618] INFO [140338838787840] - Пользователь Alex зарегистрирован на пикник ID 2!
[2022-07-31 10:57:49,445.445] INFO [139718875617024] - Пользователь Viktor зарегистрирован на пикник ID 3!
[2022-07-31 10:57:51,662.662] ERROR [139719218718528] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139718875617024 and this is thread id 139719218718528.
[2022-07-31 10:57:51,663.663] ERROR [139719218718528] - Exception closing connection <sqlite3.Connection object at 0x7f12d65505d0>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139718875617024 and this is thread id 139719218718528.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139718875617024 and this is thread id 139719218718528.
[2022-07-31 10:57:51,664.664] ERROR [139719218718528] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139718875617024 and this is thread id 139719218718528.
[2022-07-31 10:57:51,664.664] ERROR [139719218718528] - Exception closing connection <sqlite3.Connection object at 0x7f12d65506c0>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139718875617024 and this is thread id 139719218718528.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139718875617024 and this is thread id 139719218718528.
[2022-07-31 10:58:25,593.593] INFO [140338838787840] - Пользователь Alex зарегистрирован на пикник ID 2!
[2022-07-31 10:58:48,585.585] INFO [139955017246464] - Пользователь Viktor зарегистрирован на пикник ID 3!
[2022-07-31 10:58:48,586.586] INFO [139955124746048] - Тест picnic_register() пройден успешно!
[2022-07-31 10:58:48,613.613] ERROR [139955124746048] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139955017246464 and this is thread id 139955124746048.
[2022-07-31 10:58:48,614.614] ERROR [139955124746048] - Exception closing connection <sqlite3.Connection object at 0x7f49d12343f0>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139955017246464 and this is thread id 139955124746048.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139955017246464 and this is thread id 139955124746048.
[2022-07-31 10:58:48,614.614] ERROR [139955124746048] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139955017246464 and this is thread id 139955124746048.
[2022-07-31 10:58:48,614.614] ERROR [139955124746048] - Exception closing connection <sqlite3.Connection object at 0x7f49d1234300>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139955017246464 and this is thread id 139955124746048.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139955017246464 and this is thread id 139955124746048.
[2022-07-31 10:58:50,991.991] INFO [140338838787840] - Пользователь Alex зарегистрирован на пикник ID 2!
[2022-07-31 10:59:03,769.769] INFO [140453671995136] - Пользователь Viktor зарегистрирован на пикник ID 3!
[2022-07-31 10:59:03,770.770] INFO [140453779232576] - Тест picnic_register() пройден успешно!
[2022-07-31 10:59:03,796.796] ERROR [140453779232576] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140453671995136 and this is thread id 140453779232576.
[2022-07-31 10:59:03,797.797] ERROR [140453779232576] - Exception closing connection <sqlite3.Connection object at 0x7fbdeb42a210>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140453671995136 and this is thread id 140453779232576.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140453671995136 and this is thread id 140453779232576.
[2022-07-31 10:59:03,797.797] ERROR [140453779232576] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140453671995136 and this is thread id 140453779232576.
[2022-07-31 10:59:03,797.797] ERROR [140453779232576] - Exception closing connection <sqlite3.Connection object at 0x7fbdeb42a3f0>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140453671995136 and this is thread id 140453779232576.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140453671995136 and this is thread id 140453779232576.
[2022-07-31 10:59:03,797.797] ERROR [140453779232576] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140453671995136 and this is thread id 140453779232576.
[2022-07-31 10:59:03,797.797] ERROR [140453779232576] - Exception closing connection <sqlite3.Connection object at 0x7fbdeb42a300>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140453671995136 and this is thread id 140453779232576.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140453671995136 and this is thread id 140453779232576.
[2022-07-31 10:59:10,910.910] INFO [140338938423104] - Shutting down
[2022-07-31 10:59:11,011.011] INFO [140338938423104] - Waiting for application shutdown.
[2022-07-31 10:59:11,011.011] INFO [140338938423104] - Application shutdown complete.
[2022-07-31 10:59:11,011.011] INFO [140338938423104] - Finished server process [20161]
[2022-07-31 10:59:11,030.030] ERROR [140338938423104] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.
[2022-07-31 10:59:11,030.030] ERROR [140338938423104] - Exception closing connection <sqlite3.Connection object at 0x7fa32f11db70>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.
[2022-07-31 10:59:11,031.031] ERROR [140338938423104] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.
[2022-07-31 10:59:11,031.031] ERROR [140338938423104] - Exception closing connection <sqlite3.Connection object at 0x7fa32e1e1030>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.
[2022-07-31 10:59:11,031.031] ERROR [140338938423104] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.
[2022-07-31 10:59:11,031.031] ERROR [140338938423104] - Exception closing connection <sqlite3.Connection object at 0x7fa32e1e1210>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.
[2022-07-31 10:59:11,031.031] ERROR [140338938423104] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.
[2022-07-31 10:59:11,031.031] ERROR [140338938423104] - Exception closing connection <sqlite3.Connection object at 0x7fa32e1e1300>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.
[2022-07-31 10:59:11,031.031] ERROR [140338938423104] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.
[2022-07-31 10:59:11,032.032] ERROR [140338938423104] - Exception closing connection <sqlite3.Connection object at 0x7fa32e1e13f0>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.
[2022-07-31 10:59:11,032.032] ERROR [140338938423104] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.
[2022-07-31 10:59:11,032.032] ERROR [140338938423104] - Exception closing connection <sqlite3.Connection object at 0x7fa32f11dc60>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.
[2022-07-31 10:59:11,032.032] ERROR [140338938423104] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.
[2022-07-31 10:59:11,032.032] ERROR [140338938423104] - Exception closing connection <sqlite3.Connection object at 0x7fa32e1e1120>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.
[2022-07-31 10:59:11,032.032] ERROR [140338938423104] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.
[2022-07-31 10:59:11,032.032] ERROR [140338938423104] - Exception closing connection <sqlite3.Connection object at 0x7fa32f11dd50>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140338838787840 and this is thread id 140338938423104.
[2022-07-31 10:59:12,218.218] INFO [140679591339840] - Started server process [20457]
[2022-07-31 10:59:12,219.219] INFO [140679591339840] - Waiting for application startup.
[2022-07-31 10:59:12,219.219] INFO [140679591339840] - Application startup complete.
[2022-07-31 10:59:12,219.219] INFO [140679591339840] - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
[2022-07-31 10:59:14,949.949] INFO [140679491704576] - Пользователь Alex зарегистрирован на пикник ID 2!
[2022-07-31 10:59:31,456.456] INFO [139965027493632] - Список городов: [{'id': 1, 'name': 'Бузулук', 'weather': 26.32}, {'id': 2, 'name': 'Новотроицк', 'weather': 22.39}, {'id': 3, 'name': 'Москва', 'weather': 20.49}, {'id': 4, 'name': 'Орск', 'weather': 22.5}, {'id': 5, 'name': 'Барнаул', 'weather': 25.4}, {'id': 6, 'name': 'Сочи', 'weather': 26.05}]!
[2022-07-31 10:59:31,458.458] INFO [139965132371776] - Тест get_cities() пройден успешно!
[2022-07-31 10:59:31,466.466] INFO [139965027493632] - Список пользователей: [{'id': 1, 'name': 'Alex', 'surname': 'Fedorov', 'age': 31}, {'id': 4, 'name': 'Andrey', 'surname': 'Sidorov', 'age': 25}, {'id': 5, 'name': 'Иван', 'surname': 'Петров', 'age': 29}, {'id': 6, 'name': 'Иван', 'surname': 'Петров', 'age': 29}, {'id': 7, 'name': 'Иван', 'surname': 'Петров', 'age': 29}, {'id': 8, 'name': 'Иван', 'surname': 'Петров', 'age': 29}, {'id': 9, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}]!
[2022-07-31 10:59:31,467.467] INFO [139965132371776] - Тест users_list() пройден успешно!
[2022-07-31 10:59:31,511.511] INFO [139965132371776] - Тест all_picnics() пройден успешно!
[2022-07-31 10:59:31,972.972] INFO [139965027493632] - Город Сочи создан!
[2022-07-31 10:59:32,449.449] INFO [139965132371776] - Тест create_city() пройден успешно!
[2022-07-31 10:59:32,545.545] INFO [139965027493632] - Пользователей: id=10 name='Иван' surname='Петров' age=29 добавлен!
[2022-07-31 10:59:32,619.619] ERROR [139965132371776] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.
[2022-07-31 10:59:32,620.620] ERROR [139965132371776] - Exception closing connection <sqlite3.Connection object at 0x7f4c24b43210>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.
[2022-07-31 10:59:32,727.727] ERROR [139965132371776] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.
[2022-07-31 10:59:32,727.727] ERROR [139965132371776] - Exception closing connection <sqlite3.Connection object at 0x7f4c24b43c60>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.
[2022-07-31 10:59:32,727.727] ERROR [139965132371776] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.
[2022-07-31 10:59:32,727.727] ERROR [139965132371776] - Exception closing connection <sqlite3.Connection object at 0x7f4c262c0b70>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.
[2022-07-31 10:59:32,869.869] INFO [139965027493632] - Объект пикник {'id': 54, 'city': 'Новотроицк', 'time': '"2021-05-06 09:56:14"'} добавлен!
[2022-07-31 10:59:32,870.870] INFO [139965132371776] - Тест picnic_add() пройден успешно!
[2022-07-31 10:59:32,932.932] INFO [139965027493632] - Пользователь Viktor зарегистрирован на пикник ID 3!
[2022-07-31 10:59:32,933.933] INFO [139965132371776] - Тест picnic_register() пройден успешно!
[2022-07-31 10:59:32,965.965] ERROR [139965132371776] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.
[2022-07-31 10:59:32,965.965] ERROR [139965132371776] - Exception closing connection <sqlite3.Connection object at 0x7f4c262c0d50>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.
[2022-07-31 10:59:32,966.966] ERROR [139965132371776] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.
[2022-07-31 10:59:32,966.966] ERROR [139965132371776] - Exception closing connection <sqlite3.Connection object at 0x7f4c262c0c60>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.
[2022-07-31 10:59:32,966.966] ERROR [139965132371776] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.
[2022-07-31 10:59:32,966.966] ERROR [139965132371776] - Exception closing connection <sqlite3.Connection object at 0x7f4c24b43210>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.
[2022-07-31 10:59:32,966.966] ERROR [139965132371776] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.
[2022-07-31 10:59:32,966.966] ERROR [139965132371776] - Exception closing connection <sqlite3.Connection object at 0x7f4c262c0a80>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139965027493632 and this is thread id 139965132371776.
[2022-07-31 11:01:24,863.863] INFO [140679491704576] - Пользователей: id=11 name='Тимур' surname='Ахметов' age=27 добавлен!
[2022-07-31 11:01:24,864.864] ERROR [140679591339840] - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pashok/aspirant-test-issue-python/src/main.py", line 145, in register_user
    return JSONResponse(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 49, in __init__
    self.body = self.render(content)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 157, in render
    return json.dumps(
  File "/usr/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type UserModel is not JSON serializable
[2022-07-31 11:01:56,526.526] INFO [140679591339840] - Shutting down
[2022-07-31 11:01:56,626.626] INFO [140679591339840] - Waiting for application shutdown.
[2022-07-31 11:01:56,627.627] INFO [140679591339840] - Application shutdown complete.
[2022-07-31 11:01:56,627.627] INFO [140679591339840] - Finished server process [20457]
[2022-07-31 11:01:56,647.647] ERROR [140679591339840] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140679491704576 and this is thread id 140679591339840.
[2022-07-31 11:01:56,647.647] ERROR [140679591339840] - Exception closing connection <sqlite3.Connection object at 0x7ff27f90dc60>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140679491704576 and this is thread id 140679591339840.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140679491704576 and this is thread id 140679591339840.
[2022-07-31 11:01:56,648.648] ERROR [140679591339840] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140679491704576 and this is thread id 140679591339840.
[2022-07-31 11:01:56,648.648] ERROR [140679591339840] - Exception closing connection <sqlite3.Connection object at 0x7ff27f90db70>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140679491704576 and this is thread id 140679591339840.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140679491704576 and this is thread id 140679591339840.
[2022-07-31 11:01:56,648.648] ERROR [140679591339840] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140679491704576 and this is thread id 140679591339840.
[2022-07-31 11:01:56,648.648] ERROR [140679591339840] - Exception closing connection <sqlite3.Connection object at 0x7ff27f90dd50>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140679491704576 and this is thread id 140679591339840.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140679491704576 and this is thread id 140679591339840.
[2022-07-31 11:01:58,625.625] INFO [139643306968896] - Started server process [20602]
[2022-07-31 11:01:58,625.625] INFO [139643306968896] - Waiting for application startup.
[2022-07-31 11:01:58,625.625] INFO [139643306968896] - Application startup complete.
[2022-07-31 11:01:58,625.625] INFO [139643306968896] - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
[2022-07-31 11:02:03,386.386] INFO [139643207333632] - Пользователей: id=12 name='Тимур' surname='Ахметов' age=27 добавлен!
[2022-07-31 11:02:03,387.387] ERROR [139643306968896] - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pashok/aspirant-test-issue-python/src/main.py", line 145, in register_user
    return JSONResponse(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 49, in __init__
    self.body = self.render(content)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 157, in render
    return json.dumps(
  File "/usr/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type UserModel is not JSON serializable
[2022-07-31 11:02:14,967.967] INFO [139643207333632] - Пользователей: id=13 name='Тимур' surname='Ахметов' age=27 добавлен!
[2022-07-31 11:02:14,968.968] ERROR [139643306968896] - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pashok/aspirant-test-issue-python/src/main.py", line 145, in register_user
    return JSONResponse(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 49, in __init__
    self.body = self.render(content)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 157, in render
    return json.dumps(
  File "/usr/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type UserModel is not JSON serializable
[2022-07-31 11:02:18,900.900] INFO [139643207333632] - Пользователей: id=14 name='Тимур' surname='Ахметов' age=27 добавлен!
[2022-07-31 11:02:18,901.901] ERROR [139643306968896] - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pashok/aspirant-test-issue-python/src/main.py", line 145, in register_user
    return JSONResponse(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 49, in __init__
    self.body = self.render(content)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 157, in render
    return json.dumps(
  File "/usr/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type UserModel is not JSON serializable
[2022-07-31 11:02:20,149.149] INFO [139643207333632] - Пользователей: id=15 name='Тимур' surname='Ахметов' age=27 добавлен!
[2022-07-31 11:02:20,150.150] ERROR [139643306968896] - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pashok/aspirant-test-issue-python/src/main.py", line 145, in register_user
    return JSONResponse(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 49, in __init__
    self.body = self.render(content)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 157, in render
    return json.dumps(
  File "/usr/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type UserModel is not JSON serializable
[2022-07-31 11:03:34,618.618] INFO [139643306968896] - Shutting down
[2022-07-31 11:03:34,719.719] INFO [139643306968896] - Waiting for application shutdown.
[2022-07-31 11:03:34,719.719] INFO [139643306968896] - Application shutdown complete.
[2022-07-31 11:03:34,720.720] INFO [139643306968896] - Finished server process [20602]
[2022-07-31 11:03:34,740.740] ERROR [139643306968896] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139643207333632 and this is thread id 139643306968896.
[2022-07-31 11:03:34,740.740] ERROR [139643306968896] - Exception closing connection <sqlite3.Connection object at 0x7f0138343d50>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139643207333632 and this is thread id 139643306968896.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139643207333632 and this is thread id 139643306968896.
[2022-07-31 11:03:34,741.741] ERROR [139643306968896] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139643207333632 and this is thread id 139643306968896.
[2022-07-31 11:03:34,741.741] ERROR [139643306968896] - Exception closing connection <sqlite3.Connection object at 0x7f0137369030>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139643207333632 and this is thread id 139643306968896.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139643207333632 and this is thread id 139643306968896.
[2022-07-31 11:03:34,741.741] ERROR [139643306968896] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139643207333632 and this is thread id 139643306968896.
[2022-07-31 11:03:34,741.741] ERROR [139643306968896] - Exception closing connection <sqlite3.Connection object at 0x7f0138343c60>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139643207333632 and this is thread id 139643306968896.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139643207333632 and this is thread id 139643306968896.
[2022-07-31 11:03:36,871.871] INFO [140251442825024] - Started server process [20787]
[2022-07-31 11:03:36,871.871] INFO [140251442825024] - Waiting for application startup.
[2022-07-31 11:03:36,872.872] INFO [140251442825024] - Application startup complete.
[2022-07-31 11:03:36,874.874] INFO [140251442825024] - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
[2022-07-31 11:03:38,117.117] INFO [140251239184128] - Пользователей: id=16 name='Тимур' surname='Ахметов' age=27 добавлен!
[2022-07-31 11:03:38,122.122] ERROR [140251442825024] - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pashok/aspirant-test-issue-python/src/main.py", line 145, in register_user
    return JSONResponse(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 49, in __init__
    self.body = self.render(content)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 157, in render
    return json.dumps(
  File "/usr/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type UserModel is not JSON serializable
[2022-07-31 11:03:41,488.488] INFO [140251239184128] - Пользователей: id=17 name='Тимур' surname='Ахметов' age=27 добавлен!
[2022-07-31 11:03:41,490.490] ERROR [140251442825024] - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pashok/aspirant-test-issue-python/src/main.py", line 145, in register_user
    return JSONResponse(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 49, in __init__
    self.body = self.render(content)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 157, in render
    return json.dumps(
  File "/usr/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type UserModel is not JSON serializable
[2022-07-31 11:03:59,209.209] INFO [140251442825024] - Shutting down
[2022-07-31 11:03:59,310.310] INFO [140251442825024] - Waiting for application shutdown.
[2022-07-31 11:03:59,313.313] INFO [140251442825024] - Application shutdown complete.
[2022-07-31 11:03:59,315.315] INFO [140251442825024] - Finished server process [20787]
[2022-07-31 11:03:59,338.338] ERROR [140251442825024] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140251239184128 and this is thread id 140251442825024.
[2022-07-31 11:03:59,340.340] ERROR [140251442825024] - Exception closing connection <sqlite3.Connection object at 0x7f8ec9af87b0>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140251239184128 and this is thread id 140251442825024.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140251239184128 and this is thread id 140251442825024.
[2022-07-31 11:03:59,340.340] ERROR [140251442825024] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140251239184128 and this is thread id 140251442825024.
[2022-07-31 11:03:59,341.341] ERROR [140251442825024] - Exception closing connection <sqlite3.Connection object at 0x7f8ec9af86c0>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140251239184128 and this is thread id 140251442825024.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140251239184128 and this is thread id 140251442825024.
[2022-07-31 11:04:04,177.177] INFO [140545937606464] - Started server process [20826]
[2022-07-31 11:04:04,178.178] INFO [140545937606464] - Waiting for application startup.
[2022-07-31 11:04:04,179.179] INFO [140545937606464] - Application startup complete.
[2022-07-31 11:04:04,181.181] INFO [140545937606464] - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
[2022-07-31 11:04:14,802.802] INFO [140545599723264] - Пользователей: id=18 name='Тимур' surname='Ахметов' age=27 добавлен!
[2022-07-31 11:04:24,190.190] ERROR [140545937606464] - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pashok/aspirant-test-issue-python/src/main.py", line 145, in register_user
    return JSONResponse(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 49, in __init__
    self.body = self.render(content)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 157, in render
    return json.dumps(
  File "/usr/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type UserModel is not JSON serializable
[2022-07-31 11:05:25,994.994] INFO [140545599723264] - Пользователей: id=19 name='Тимур' surname='Ахметов' age=27 добавлен!
[2022-07-31 11:05:43,833.833] ERROR [140545937606464] - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pashok/aspirant-test-issue-python/src/main.py", line 145, in register_user
    return JSONResponse(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 49, in __init__
    self.body = self.render(content)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 157, in render
    return json.dumps(
  File "/usr/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type UserModel is not JSON serializable
[2022-07-31 11:06:32,475.475] INFO [140545599723264] - Пользователей: id=20 name='Тимур' surname='Ахметов' age=27 добавлен!
[2022-07-31 11:06:34,916.916] ERROR [140545937606464] - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pashok/aspirant-test-issue-python/src/main.py", line 145, in register_user
    )
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 49, in __init__
    self.body = self.render(content)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 157, in render
    return json.dumps(
  File "/usr/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type UserModel is not JSON serializable
[2022-07-31 11:06:39,470.470] INFO [140545937606464] - Shutting down
[2022-07-31 11:06:39,571.571] INFO [140545937606464] - Waiting for application shutdown.
[2022-07-31 11:06:39,573.573] INFO [140545937606464] - Application shutdown complete.
[2022-07-31 11:06:39,575.575] INFO [140545937606464] - Finished server process [20826]
[2022-07-31 11:06:39,599.599] ERROR [140545937606464] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140545582413568 and this is thread id 140545937606464.
[2022-07-31 11:06:39,600.600] ERROR [140545937606464] - Exception closing connection <sqlite3.Connection object at 0x7fd352f0e6c0>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140545582413568 and this is thread id 140545937606464.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140545582413568 and this is thread id 140545937606464.
[2022-07-31 11:06:39,601.601] ERROR [140545937606464] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140545591068416 and this is thread id 140545937606464.
[2022-07-31 11:06:39,601.601] ERROR [140545937606464] - Exception closing connection <sqlite3.Connection object at 0x7fd352f0e7b0>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140545591068416 and this is thread id 140545937606464.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140545591068416 and this is thread id 140545937606464.
[2022-07-31 11:06:39,602.602] ERROR [140545937606464] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140545591068416 and this is thread id 140545937606464.
[2022-07-31 11:06:39,602.602] ERROR [140545937606464] - Exception closing connection <sqlite3.Connection object at 0x7fd352f0e990>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140545591068416 and this is thread id 140545937606464.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140545591068416 and this is thread id 140545937606464.
[2022-07-31 11:06:43,549.549] INFO [140022541678400] - Started server process [21177]
[2022-07-31 11:06:43,550.550] INFO [140022541678400] - Waiting for application startup.
[2022-07-31 11:06:43,551.551] INFO [140022541678400] - Application startup complete.
[2022-07-31 11:06:43,553.553] INFO [140022541678400] - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
[2022-07-31 11:06:46,167.167] INFO [140022337988352] - Пользователей: id=21 name='Тимур' surname='Ахметов' age=27 добавлен!
[2022-07-31 11:06:46,177.177] ERROR [140022541678400] - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pashok/aspirant-test-issue-python/src/main.py", line 147, in register_user
    return Response(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 49, in __init__
    self.body = self.render(content)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 57, in render
    return content.encode(self.charset)
AttributeError: 'UserModel' object has no attribute 'encode'
[2022-07-31 11:06:50,434.434] INFO [140022337988352] - Пользователей: id=22 name='Тимур' surname='Ахметов' age=27 добавлен!
[2022-07-31 11:06:50,436.436] ERROR [140022541678400] - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pashok/aspirant-test-issue-python/src/main.py", line 147, in register_user
    return Response(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 49, in __init__
    self.body = self.render(content)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 57, in render
    return content.encode(self.charset)
AttributeError: 'UserModel' object has no attribute 'encode'
[2022-07-31 11:07:15,655.655] INFO [140022541678400] - Shutting down
[2022-07-31 11:07:15,757.757] INFO [140022541678400] - Waiting for application shutdown.
[2022-07-31 11:07:15,760.760] INFO [140022541678400] - Application shutdown complete.
[2022-07-31 11:07:15,761.761] INFO [140022541678400] - Finished server process [21177]
[2022-07-31 11:07:15,783.783] ERROR [140022541678400] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140022337988352 and this is thread id 140022541678400.
[2022-07-31 11:07:15,785.785] ERROR [140022541678400] - Exception closing connection <sqlite3.Connection object at 0x7f597e1c37b0>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140022337988352 and this is thread id 140022541678400.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140022337988352 and this is thread id 140022541678400.
[2022-07-31 11:07:15,785.785] ERROR [140022541678400] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140022337988352 and this is thread id 140022541678400.
[2022-07-31 11:07:15,786.786] ERROR [140022541678400] - Exception closing connection <sqlite3.Connection object at 0x7f597e1c36c0>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140022337988352 and this is thread id 140022541678400.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140022337988352 and this is thread id 140022541678400.
[2022-07-31 11:07:18,680.680] INFO [140668503951168] - Started server process [21281]
[2022-07-31 11:07:18,681.681] INFO [140668503951168] - Waiting for application startup.
[2022-07-31 11:07:18,681.681] INFO [140668503951168] - Application startup complete.
[2022-07-31 11:07:18,684.684] INFO [140668503951168] - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
[2022-07-31 11:07:26,695.695] INFO [140668164896512] - Пользователей: id=23 name='Тимур' surname='Ахметов' age=27 добавлен!
[2022-07-31 11:07:29,280.280] ERROR [140668503951168] - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pashok/aspirant-test-issue-python/src/main.py", line 147, in register_user
    return Response(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/h11/_events.py", line 36, in __init__
    raise TypeError(
TypeError: unrecognized kwarg content for Response
[2022-07-31 11:08:09,784.784] INFO [140668503951168] - Shutting down
[2022-07-31 11:08:09,885.885] INFO [140668503951168] - Waiting for application shutdown.
[2022-07-31 11:08:09,887.887] INFO [140668503951168] - Application shutdown complete.
[2022-07-31 11:08:09,887.887] INFO [140668503951168] - Finished server process [21281]
[2022-07-31 11:08:09,926.926] ERROR [140668503951168] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140668156503808 and this is thread id 140668503951168.
[2022-07-31 11:08:09,927.927] ERROR [140668503951168] - Exception closing connection <sqlite3.Connection object at 0x7fefe877f5d0>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140668156503808 and this is thread id 140668503951168.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140668156503808 and this is thread id 140668503951168.
[2022-07-31 11:08:16,547.547] INFO [140408263210816] - Started server process [21402]
[2022-07-31 11:08:16,548.548] INFO [140408263210816] - Waiting for application startup.
[2022-07-31 11:08:16,549.549] INFO [140408263210816] - Application startup complete.
[2022-07-31 11:08:16,551.551] INFO [140408263210816] - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
[2022-07-31 11:08:23,315.315] INFO [140408126678784] - Пользователей: id=24 name='Тимур' surname='Ахметов' age=27 добавлен!
[2022-07-31 11:08:30,847.847] ERROR [140408263210816] - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pashok/aspirant-test-issue-python/src/main.py", line 147, in register_user
    return Response(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 49, in __init__
    self.body = self.render(content)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 57, in render
    return content.encode(self.charset)
AttributeError: 'UserModel' object has no attribute 'encode'
[2022-07-31 11:12:16,635.635] INFO [140408263210816] - Shutting down
[2022-07-31 11:12:16,737.737] INFO [140408263210816] - Waiting for application shutdown.
[2022-07-31 11:12:16,739.739] INFO [140408263210816] - Application shutdown complete.
[2022-07-31 11:12:16,741.741] INFO [140408263210816] - Finished server process [21402]
[2022-07-31 11:12:16,764.764] ERROR [140408263210816] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140407907804928 and this is thread id 140408263210816.
[2022-07-31 11:12:16,765.765] ERROR [140408263210816] - Exception closing connection <sqlite3.Connection object at 0x7fb350e866c0>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140407907804928 and this is thread id 140408263210816.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140407907804928 and this is thread id 140408263210816.
[2022-07-31 11:12:22,106.106] INFO [140333375915840] - Started server process [21598]
[2022-07-31 11:12:22,106.106] INFO [140333375915840] - Waiting for application startup.
[2022-07-31 11:12:22,107.107] INFO [140333375915840] - Application startup complete.
[2022-07-31 11:12:22,109.109] INFO [140333375915840] - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
[2022-07-31 11:12:29,028.028] INFO [140333239383808] - Пользователей: id=25 name='Тимур' surname='Ахметов' age=27 добавлен!
[2022-07-31 11:12:37,994.994] INFO [140333375915840] - Shutting down
[2022-07-31 11:12:38,095.095] INFO [140333375915840] - Waiting for connections to close. (CTRL+C to force quit)
[2022-07-31 11:12:57,668.668] INFO [140381237987136] - Started server process [21722]
[2022-07-31 11:12:57,669.669] INFO [140381237987136] - Waiting for application startup.
[2022-07-31 11:12:57,670.670] INFO [140381237987136] - Application startup complete.
[2022-07-31 11:12:57,672.672] INFO [140381237987136] - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
[2022-07-31 11:13:02,610.610] INFO [140381034333952] - Пользователей: id=26 name='Тимур' surname='Ахметов' age=27 добавлен!
[2022-07-31 11:13:05,876.876] ERROR [140381237987136] - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pashok/aspirant-test-issue-python/src/main.py", line 148, in register_user
    return Response(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 49, in __init__
    self.body = self.render(content)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 57, in render
    return content.encode(self.charset)
AttributeError: 'dict' object has no attribute 'encode'
[2022-07-31 11:13:32,872.872] INFO [140381237987136] - Shutting down
[2022-07-31 11:13:32,973.973] INFO [140381237987136] - Waiting for application shutdown.
[2022-07-31 11:13:32,975.975] INFO [140381237987136] - Application shutdown complete.
[2022-07-31 11:13:32,977.977] INFO [140381237987136] - Finished server process [21722]
[2022-07-31 11:13:32,999.999] ERROR [140381237987136] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140381017024256 and this is thread id 140381237987136.
[2022-07-31 11:13:33,000.000] ERROR [140381237987136] - Exception closing connection <sqlite3.Connection object at 0x7fad021406c0>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140381017024256 and this is thread id 140381237987136.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140381017024256 and this is thread id 140381237987136.
[2022-07-31 11:13:38,560.560] INFO [139898529519424] - Started server process [21865]
[2022-07-31 11:13:38,561.561] INFO [139898529519424] - Waiting for application startup.
[2022-07-31 11:13:38,561.561] INFO [139898529519424] - Application startup complete.
[2022-07-31 11:13:38,563.563] INFO [139898529519424] - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
[2022-07-31 11:13:42,024.024] INFO [139898191628032] - Пользователей: id=27 name='Тимур' surname='Ахметов' age=27 добавлен!
[2022-07-31 11:13:42,028.028] ERROR [139898529519424] - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.9/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pashok/aspirant-test-issue-python/src/main.py", line 148, in register_user
    return Response(
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 49, in __init__
    self.body = self.render(content)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/starlette/responses.py", line 57, in render
    return content.encode(self.charset)
AttributeError: 'dict' object has no attribute 'encode'
[2022-07-31 11:14:06,832.832] INFO [139898529519424] - Shutting down
[2022-07-31 11:14:06,933.933] INFO [139898529519424] - Waiting for application shutdown.
[2022-07-31 11:14:06,935.935] INFO [139898529519424] - Application shutdown complete.
[2022-07-31 11:14:06,937.937] INFO [139898529519424] - Finished server process [21865]
[2022-07-31 11:14:06,960.960] ERROR [139898529519424] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139898191628032 and this is thread id 139898529519424.
[2022-07-31 11:14:06,961.961] ERROR [139898529519424] - Exception closing connection <sqlite3.Connection object at 0x7f3c9668f6c0>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139898191628032 and this is thread id 139898529519424.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 139898191628032 and this is thread id 139898529519424.
[2022-07-31 11:14:09,222.222] INFO [139965303265088] - Started server process [21919]
[2022-07-31 11:14:09,223.223] INFO [139965303265088] - Waiting for application startup.
[2022-07-31 11:14:09,224.224] INFO [139965303265088] - Application startup complete.
[2022-07-31 11:14:09,226.226] INFO [139965303265088] - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
[2022-07-31 11:14:12,743.743] INFO [139964965394176] - Пользователей: id=28 name='Тимур' surname='Ахметов' age=27 добавлен!
[2022-07-31 11:14:51,949.949] INFO [140674777716480] - Пользователей: id=29 name='Иван' surname='Петров' age=29 добавлен!
[2022-07-31 11:14:53,238.238] INFO [140675129280320] - Тест register_user() пройден успешно!
[2022-07-31 11:14:53,272.272] ERROR [140675129280320] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140674777716480 and this is thread id 140675129280320.
[2022-07-31 11:14:53,273.273] ERROR [140675129280320] - Exception closing connection <sqlite3.Connection object at 0x7ff1670a73f0>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140674777716480 and this is thread id 140675129280320.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140674777716480 and this is thread id 140675129280320.
[2022-07-31 11:15:11,939.939] INFO [140660645676800] - Список городов: [{'id': 1, 'name': 'Бузулук', 'weather': 26.32}, {'id': 2, 'name': 'Новотроицк', 'weather': 24.39}, {'id': 3, 'name': 'Москва', 'weather': 20.8}, {'id': 4, 'name': 'Орск', 'weather': 24.5}, {'id': 5, 'name': 'Барнаул', 'weather': 25.4}, {'id': 6, 'name': 'Сочи', 'weather': 26.05}]!
[2022-07-31 11:15:11,941.941] INFO [140660750554944] - Тест get_cities() пройден успешно!
[2022-07-31 11:15:11,950.950] INFO [140660645676800] - Список пользователей: [{'id': 1, 'name': 'Alex', 'surname': 'Fedorov', 'age': 31}, {'id': 4, 'name': 'Andrey', 'surname': 'Sidorov', 'age': 25}, {'id': 5, 'name': 'Иван', 'surname': 'Петров', 'age': 29}, {'id': 6, 'name': 'Иван', 'surname': 'Петров', 'age': 29}, {'id': 7, 'name': 'Иван', 'surname': 'Петров', 'age': 29}, {'id': 8, 'name': 'Иван', 'surname': 'Петров', 'age': 29}, {'id': 9, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 10, 'name': 'Иван', 'surname': 'Петров', 'age': 29}, {'id': 11, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 12, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 13, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 14, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 15, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 16, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 17, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 18, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 19, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 20, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 21, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 22, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 23, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 24, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 25, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 26, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 27, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 28, 'name': 'Тимур', 'surname': 'Ахметов', 'age': 27}, {'id': 29, 'name': 'Иван', 'surname': 'Петров', 'age': 29}]!
[2022-07-31 11:15:11,951.951] INFO [140660750554944] - Тест users_list() пройден успешно!
[2022-07-31 11:15:11,996.996] INFO [140660750554944] - Тест all_picnics() пройден успешно!
[2022-07-31 11:15:12,440.440] INFO [140660645676800] - Город Сочи создан!
[2022-07-31 11:15:12,877.877] INFO [140660750554944] - Тест create_city() пройден успешно!
[2022-07-31 11:15:12,947.947] INFO [140660645676800] - Пользователей: id=30 name='Иван' surname='Петров' age=29 добавлен!
[2022-07-31 11:15:12,949.949] INFO [140660750554944] - Тест register_user() пройден успешно!
[2022-07-31 11:15:13,023.023] INFO [140660645676800] - Объект пикник {'id': 55, 'city': 'Новотроицк', 'time': '"2021-05-06 09:56:14"'} добавлен!
[2022-07-31 11:15:13,024.024] INFO [140660750554944] - Тест picnic_add() пройден успешно!
[2022-07-31 11:15:13,102.102] INFO [140660645676800] - Пользователь Viktor зарегистрирован на пикник ID 3!
[2022-07-31 11:15:13,103.103] INFO [140660750554944] - Тест picnic_register() пройден успешно!
[2022-07-31 11:15:13,128.128] ERROR [140660750554944] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.
[2022-07-31 11:15:13,129.129] ERROR [140660750554944] - Exception closing connection <sqlite3.Connection object at 0x7fee1ac76c60>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.
[2022-07-31 11:15:13,129.129] ERROR [140660750554944] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.
[2022-07-31 11:15:13,129.129] ERROR [140660750554944] - Exception closing connection <sqlite3.Connection object at 0x7fee1c3f2b70>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.
[2022-07-31 11:15:13,129.129] ERROR [140660750554944] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.
[2022-07-31 11:15:13,129.129] ERROR [140660750554944] - Exception closing connection <sqlite3.Connection object at 0x7fee1c3f2a80>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.
[2022-07-31 11:15:13,129.129] ERROR [140660750554944] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.
[2022-07-31 11:15:13,130.130] ERROR [140660750554944] - Exception closing connection <sqlite3.Connection object at 0x7fee1ac76210>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.
[2022-07-31 11:15:13,130.130] ERROR [140660750554944] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.
[2022-07-31 11:15:13,130.130] ERROR [140660750554944] - Exception closing connection <sqlite3.Connection object at 0x7fee1ac76a80>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.
[2022-07-31 11:15:13,130.130] ERROR [140660750554944] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.
[2022-07-31 11:15:13,130.130] ERROR [140660750554944] - Exception closing connection <sqlite3.Connection object at 0x7fee1c3f2d50>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.
[2022-07-31 11:15:13,130.130] ERROR [140660750554944] - Exception during reset or similar
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.
[2022-07-31 11:15:13,130.130] ERROR [140660750554944] - Exception closing connection <sqlite3.Connection object at 0x7fee1ac76120>
Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 676, in _finalize_fairy
    fairy._reset(pool)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 881, in _reset
    pool._dialect.do_rollback(self)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 667, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 238, in _close_connection
    self._dialect.do_close(connection)
  File "/home/pashok/.local/share/virtualenvs/aspirant-test-issue-python-tvyOwjpx/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 673, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 140660645676800 and this is thread id 140660750554944.
[2022-07-31 11:17:21,178.178] INFO [140681280362304] - Started server process [22279]
[2022-07-31 11:17:21,178.178] INFO [140681280362304] - Waiting for application startup.
[2022-07-31 11:17:21,179.179] INFO [140681280362304] - Application startup complete.
[2022-07-31 11:19:23,333.333] INFO [140681280362304] - Shutting down
[2022-07-31 11:19:23,433.433] INFO [140681280362304] - Waiting for application shutdown.
[2022-07-31 11:19:23,434.434] INFO [140681280362304] - Application shutdown complete.
[2022-07-31 11:19:23,434.434] INFO [140681280362304] - Finished server process [22279]
